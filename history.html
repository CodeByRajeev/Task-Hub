<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Task History</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <h1>Task History</h1>
    <div>
      <a href="index.html" target="_blank">Home</a>
      <a href="tasks.html" target="_blank">Tasks</a>
      <a href="stopwatch.html" target="_blank">Stopwatch</a>
      <a href="history.html" target="_blank">History</a>
    </div>
  </nav>

  <main>
    <section>
      <h2>Select Date</h2>
      <input type="date" id="historyDate" />
      <button onclick="loadHistory()">Show Tasks</button>
      <div id="result"></div>
    </section>
  </main>

  <script>
    function loadHistory() {
      const date = document.getElementById('historyDate').value;
      const tasks = JSON.parse(localStorage.getItem('tasks')) || {};
      const list = tasks[date] || [];
      const result = document.getElementById('result');
      result.innerHTML = '';
      if (!list.length) {
        result.textContent = "No tasks found for this date.";
        return;
      }
      list.forEach(t => {
        const div = document.createElement('div');
        div.className = 'task';
        div.innerHTML = `<span class="${t.completed ? 'completed' : ''}">${t.start} - ${t.end} | ${t.name}</span>`;
        result.appendChild(div);
      });
    }
  </script>
</body>
</html>
